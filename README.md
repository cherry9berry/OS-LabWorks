# Лабораторные работы по курсу Системное программное обеспечение / Операционные системы

## EN

1) Laboratory Work №1 “Operating System Characteristics”: Develop a program that monitors the state of CPU load, RAM, and file system. The program should generate graphs. Additionally, the program should display computer information: processor architecture, number of processors, processor type, computer name, username, and device information. Use the following functions for implementation: WinAPI POSIX, GetSystemTimes, GlobalMemoryStatus, GlobalMemoryStatusEx, GetSystemInfo, GetDiskFreeSpace.
2) Laboratory Work №2 “Working with Processes and Threads in the Operating System”: Develop a process and thread manager that implements the following functions: Creating a new process with an assigned initial priority; Terminating an existing process and process tree; Suspending and resuming a thread of a selected process; Displaying all loaded processes with their IDs in a tree structure; Process information (memory usage, used modules, number of threads); Displaying and changing the priority of a selected process. Use the following functions for implementation: WinAPI: CreateProcess, OpenProcess, TerminateProcess, EnumProcesses, EnumProcessModules, GetModuleBaseName, GetModuleInformation, WaitForSingleObject, Thread32First, Thread32Next, SetPriorityClass, GetPriorityClass, SetThreadPriority, GetThreadPriority, ResumeThread, SuspendThread, GetThreadId, OpenThread, TerminateThread, CreateToolhelp32Snapshot, Process32First, Process32Next, Module32First, Module32Next, GetProcessMemoryInfo.
3) Laboratory Work №3 “Process and Thread Synchronization”: In a barbershop, there is one barber, his chair, and n chairs for visitors. If there are no clients, the barber sits in his chair and sleeps. If a client arrives, they must wake the barber. If a client arrives and sees that the barber is busy, they either sit on a chair (if there is a free one) or leave (if there are no free chairs). Program the barber and clients to avoid race conditions. Use the following functions for implementation: WinAPI: InitializeCriticalSection, WaitForSingleObject, DeleteCriticalSection, LeaveCriticalSection, EnterCriticalSection, _beginthreadex, CreateMutex, ReleaseMutex, OpenMutex, CreateSemaphore, ReleaseSemaphore, OpenSemaphore, WaitForMultipleObjects.
4) Laboratory Work №4 “Interprocess Communication”: Implement a client-server program using named pipes for logging data from clients about program operations. Create at least two clients (a text processor and a computational processor). The client sends messages at regular intervals and when actions change (start of work, end of work, text input, calculations, idle). The server stores information in a database with at least two tables: clients and events. The server should query average client characteristics (client name, time interval, calculation parameter, e.g., average notepad activity per minute/hour from 01.01.2023 to 03.01.2023). Use the following functions for implementation: WinAPI: CreateFile, WriteFile, ReadFile, CloseHandle, CreateNamedPipe, ConnectNamedPipe, DisconnectNamedPipe, WaitNamedPipe, TransactNamedPipe, CallNamedPipe, PeekNamedPipe, CreateThread.

5) Laboratory Work №5 “File System”: Implement a virtual file system with the following functions: CD [path] — set path as the current directory; DIR — display the contents of the current directory; MOUNT [source] [target] — create a copy of the real file system source in the virtual target; UMOUNT [path] — delete the directory; QUIT — exit. The virtual file system must not modify the real one. Implement saving and loading the virtual file system from a file. Task variants: 1) RENAME file1 file2 — rename file1 to file2, DEL file — delete a file, COPY file path — copy a file; 2) DIR mask — display by mask, SIZEOF path — display directory size, FIND mask — find files by mask; 3) INFO file — display file information, PRINT file — display file contents on the screen, FINDSTR string file — search for a string in a file.

## RU

1) Лабораторная работа №1 «Характеристики Операционных систем»: Разработать программу, которая мониторит состояние загрузки центрального процессора, оперативной памяти и файловой системы. Программа должна строить графики. Также программа должна показывать информацию о компьютере: Архитектура процессора, количество процессоров, тип процессора, имя компьютера, имя пользователя, информация об устройствах. Для реализации использовать следующие функции: WinAPI POSIX, GetSystemTimes, GlobalMemoryStatus, GlobalMemoryStatusEx, GetSystemInfo, GetDiskFreeSpace.

2) Лабораторная работа №2 «Работа с процессами и потоками в Операционной Системе»: Разработать диспетчер процессов и потоков, который реализует следующие функции: Создание нового процесса с заданием начального приоритета; Завершение существующего процесса и дерева процессов; Приостановка и возобновление потока выбранного процесса; Отображение всех загруженных процессов с их ID в виде дерева; Информация о процессе (количество занимаемой памяти, используемые модули, количество потоков); Отображение и изменение приоритетов у выбранного процесса. Для реализации использовать следующие функции: WinAPI: CreateProcess, OpenProcess, TerminateProcess, EnumProcesses, EnumProcessModules, GetModuleBaseName, GetModuleInformation, WaitForSingleObject, Thread32First, Thread32Next, SetPriorityClass, GetPriorityClass, SetThreadPriority, GetThreadPriority, ResumeThread, SuspendThread, GetThreadId, OpenThread, TerminateThread, CreateToolhelp32Snapshot, Process32First, Process32Next, Module32First, Module32Next, GetProcessMemoryInfo.
3) Лабораторная работа №3 «Синхронизация процессов и потоков»: В парикмахерской есть один брадобрей, его кресло и n стульев для посетителей. Если желающих воспользоваться его услугами нет, брадобрей сидит в своем кресле и спит. Если в парикмахерскую приходит клиент, он должен разбудить брадобрея. Если клиент приходит и видит, что брадобрей занят, он либо садится на стул (если есть место), либо уходит (если места нет). Необходимо запрограммировать брадобрея и посетителей так, чтобы избежать состояния состязания. Для реализации использовать следующие функции: WinAPI: InitializeCriticalSection, WaitForSingleObject, DeleteCriticalSection, LeaveCriticalSection, EnterCriticalSection, _beginthreadex, CreateMutex, ReleaseMutex, OpenMutex, CreateSemaphore, ReleaseSemaphore, OpenSemaphore, WaitForMultipleObjects.
4) Лабораторная работа №4 «Межпроцессное взаимодействие»: Реализовать клиент-серверную программу с использованием именных каналов для логирования данных от клиентов о работе программы. Создать минимум двух клиентов (текстовый процессор и вычислительный процессор). Клиент посылает сообщения в равные промежутки и при изменении действия (начало работы, конец работы, набор текста, вычисления, простой). Сервер сохраняет информацию в базу данных с минимум двумя таблицами: о клиентах и о событиях. Сервер должен запрашивать средние характеристики клиента (имя клиента, временной промежуток, параметр расчета, например, сколько в среднем за минуту/час работал блокнот с 01.01.2023 по 03.01.2023). Для реализации использовать следующие функции: WinAPI: CreateFile, WriteFile, ReadFile, CloseHandle, CreateNamedPipe, ConnectNamedPipe, DisconnectNamedPipe, WaitNamedPipe, TransactNamedPipe, CallNamedPipe, PeekNamedPipe, CreateThread.
5) Лабораторная работа №5 «Файловая система»: Реализовать виртуальную файловую систему с функциями: CD [path] — сделать path текущим каталогом; DIR — вывести содержимое текущего каталога; MOUNT [source] [target] — создать копию реальной файловой системы source в виртуальной target; UMOUNT [path] — удалить каталог; QUIT — выход. Виртуальная файловая система не должна изменять реальную. Реализовать сохранение и считывание виртуальной файловой системы из файла. Варианты заданий: 1) RENAME file1 file2 — переименовать file1 в file2, DEL file — удаление файла, COPY file path — копирование файла; 2) DIR mask — вывод по маске, SIZEOF path — вывод размера каталога, FIND mask — найти файлы по маске; 3) INFO file — вывод информации о файле, PRINT file — вывод файла на экран, FINDSTR string file — поиск строки в файле.
